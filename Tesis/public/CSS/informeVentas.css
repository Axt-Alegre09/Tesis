:root{
  /* Paleta y tokens compartidos con las otras plantillas */
  --brown-900:#3c2e1a;
  --brown-700:#7a623c;
  --cream-50:#fbf8f3;
  --cream-100:#f2eadf;
  --gray-bg:#e9edf1;
  --ok:#34a853;
  --warn:#d8a033;

  --radius:22px;
  --shadow-deep:0 25px 40px rgba(0,0,0,.15);
  --shadow-card:0 8px 15px rgba(0,0,0,.10);
}

/* ===== Base ===== */
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Poppins,system-ui,Segoe UI,Roboto,Arial,sans-serif;
  background:#a98a58;                        /* marco marrón */
}
.wrapper{
  margin:18px;
  background:var(--gray-bg);
  border-radius:20px;
  box-shadow: inset 0 0 0 2px rgba(0,0,0,.08), var(--shadow-deep);
  padding:25px;
  min-height:calc(100vh - 36px);
  display:flex; flex-direction:column;
}

/* ===== Header ===== */
.topbar{
  display:flex; align-items:center; justify-content:center; position:relative;
}
.back{
  position:absolute; left:0;
  width:38px; height:38px; border-radius:999px;
  border:2px solid var(--brown-900);
  background:var(--cream-100); cursor:pointer; font-size:20px;
}
h1{margin:0; font-weight:800; font-size:36px; color:var(--brown-900)}
.fecha{ text-align:center; margin:8px 0 18px; font-weight:700; color:#333 }

/* ===== Layout ===== */
.dashboard{
  display:grid;
  grid-template-columns: 1.4fr 1fr;   /* izquierda: KPIs + chart, derecha: widgets */
  grid-template-areas:
    "kpis side"
    "chart side";
  gap:22px;
  align-items:start;
}
@media (max-width: 1100px){
  .dashboard{
    grid-template-columns:1fr;
    grid-template-areas:
      "kpis"
      "chart"
      "side";
  }
}

/* ===== Card base ===== */
.card{
  background:#fff;
  border:2px solid var(--brown-900);
  border-radius:26px;
  box-shadow:var(--shadow-card);
}

/* ===== KPIs ===== */
.metrics{ grid-area:kpis; display:grid; grid-template-columns:1fr 1fr; gap:22px }
@media (max-width: 560px){ .metrics{ grid-template-columns:1fr } }

.kpi{
  padding:18px 18px 14px;
  background:#6f5c38;            /* bloque café */
  color:#fff;
  border-color:var(--brown-900);
  border-radius:26px;
}
.kpi__icon{ font-size:26px; margin-bottom:4px }
.kpi__title{ font-weight:800; font-size:22px; line-height:1.2 }
.kpi__sub{ font-size:11px; opacity:.9; margin-top:4px }
.kpi__value{
  margin-top:10px;
  font-weight:800;
  font-size:28px;
}
.kpi__foot{
  margin-top:8px; display:flex; align-items:center; gap:10px; font-weight:600;
}
.kpi__foot .arrow{ font-size:18px }
.kpi__foot .sep{ flex:1 }

/* ===== Sidebar widgets ===== */
.side{ grid-area:side; display:grid; gap:22px }

.widget{ padding:16px; }
.widget__title{
  margin:0 0 10px;
  text-align:left;
  font-weight:800; color:#fff;
  background:var(--brown-700);
  border:2px solid var(--brown-900);
  padding:8px 12px;
  border-radius:14px;
}

/* Donut simple en CSS */
.donut{
  width: 180px; height: 140px;
  margin: 8px auto 10px;
  position: relative;
  display:grid; place-items:center;
}
.donut__ring{
  width:120px; height:120px;
  border-radius:50%;
  background:
    radial-gradient(#fff 58%, transparent 60%),
    conic-gradient(#000 0 260deg, #ddd 260deg 360deg);
  border:2px solid var(--brown-900);
}
.donut__center{
  position:absolute; text-align:center; font-weight:800; color:#222;
}

/* Listas */
.list{ list-style:none; margin:8px 0 0; padding:0; color:#fff; font-weight:700 }
.list li{ margin:4px 0 }

/* ===== Chart ===== */
.chart{ grid-area:chart; padding:12px 14px 16px; display:flex; flex-direction:column }
.chart__bar{
  display:flex; align-items:center; justify-content:space-between;
  padding:8px 10px; margin-bottom:8px;
  background:var(--cream-100);
  border:2px solid var(--brown-900);
  border-radius:14px;
}
.actions{ display:flex; align-items:center; gap:10px }
.select select{
  height:36px; border-radius:999px; padding:0 12px;
  border:2px solid var(--brown-900); background:#fff; font-weight:700;
}
.btn{
  border:2px solid var(--brown-900);
  border-radius:999px; padding:8px 16px; font-weight:700; cursor:pointer;
}
.btn.brown{ background:var(--cream-100); color:var(--brown-900) }

/* Lienzo del gráfico (placeholder) */
.chart__canvas{
  position:relative;
  height: 420px;
  border:2px solid var(--brown-900);
  border-radius:14px;
  background:#fff;
  overflow:hidden;
}
.legend{
  position:absolute; top:10px; left:12px; display:flex; gap:14px; font-weight:700;
}
.dot{ width:10px; height:10px; border-radius:50%; background:#000; display:inline-block }
.dot.hollow{ background:transparent; border:2px solid #000; width:10px; height:10px; border-radius:50% }

.gridlines{
  position:absolute; inset:0; display:grid; grid-template-rows:repeat(5,1fr);
}
.gridlines span{
  border-top:1px solid #eee;
}

/* Líneas del chart en SVG (decorativas) */
.line{
  position:absolute; inset:0; width:100%; height:100%;
}
.line polyline{
  stroke:#000; stroke-width:1.8; fill:none;
}
.line.costs polyline{
  stroke:#777; stroke-dasharray:2.5 2.5;
}
